.svg_graph_mini <- function() {
  paste0(
    '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72.022 402.5"',
    'preserveAspectRatio="xMinYMin meet" class="svg-content-mini">',
    '<g id="Layer_2" data-name="Layer 2" transform="translate(-237.236)">',
    '<g id="step1" class="mini-node" transform="translate(246.145 2.5)">',
    '<circle id="mini-node-1-main" class="mini-node-main" ',
    'data-name="mini-node-1-main" cx="27.561" cy="27.561" r="27.561" ',
    'transform="translate(0 4.146)"/><path id="mini-node-1-arc" ',
    'data-name="mini-node-1-arc" class="mini-node-arc" d="M374,2.5a31.708,',
    '31.708,0,1,1,0,63.416" transform="translate(-346.458 -2.5)"/>',
    '</g><g id="step2" class="mini-node" transform="translate(237.236 108.956)">',
    '<circle id="mini-node-2-main" data-name="mini-node-2-main" ',
    'class="mini-node-main" cx="27.561" cy="27.561" r="27.561" ',
    'transform="translate(0 21.094) rotate(-22.5)"/>',
    '<path id="mini-node-2-arc" data-name="mini-node-2-arc" ',
    'class="mini-node-arc" d="M340.068,229.23a31.708,31.708,0,0,0,0,63.416" ',
    'transform="translate(-303.929 -225.084)"/>',
    '</g><g id="step4" class="mini-node" transform="translate(237.236 330.479)">',
    '<circle id="mini-node-4-main" data-name="mini-node-4-main" ',
    'class="mini-node-main" cx="27.561" cy="27.561" r="27.561" ',
    'transform="translate(0 21.094) rotate(-22.5)"/>',
    '<path id="mini-node-4-arc" data-name="mini-node-4-arc" ',
    'd="M341.2,683.24a31.708,31.708,0,0,0,0,63.416" ',
    'transform="translate(-304.508 -679.144)" class="mini-node-arc"/>',
    '</g><g id="path1" transform="translate(273.706 73.004)">',
    '<line id="Line_11" data-name="Line 11" y2="33.171" fill="none" ',
    'stroke="#727272" stroke-miterlimit="10" stroke-width="3"/></g>',
    '<g id="step3" class="mini-node"  transform="translate(246.145 223.938)">',
    '<circle id="mini-node-3-main" data-name="mini-node-3-main" cx="27.561" ',
    'cy="27.561" r="27.561" transform="translate(0 4.229)" ',
    'class="mini-node-main"/><path id="mini-node-3-arc" ',
    'data-name="mini-node-3-arc" d="M373.1,456.44a31.708,31.708,0,1,1,0,63.416" ',
    'transform="translate(-345.997 -456.44)" class="mini-node-arc"/>',
    '</g><g id="path3" transform="translate(273.706 294.525)">',
    '<line id="Line_13" data-name="Line 13" y2="33.171" fill="none" ',
    'stroke="#727272" stroke-width="3"/></g><g id="path2" ',
    'transform="translate(273.706 183.762)"><line id="Line_14" ',
    'data-name="Line 14" y2="33.171" fill="none" stroke="#727272" ',
    'stroke-width="3"/></g></g></svg>'
  )
}

svg_graph_full <- function() {
  paste0(
    '<div class="svg-container">',
    '<svg xmlns="http://www.w3.org/2000/svg" ',
    'viewBox="0 0 605.404 650.197" preserveAspectRatio="xMinYMin meet" ',
    'class="svg-content">',
    '<g id="Layer_2" data-name="Layer 2" transform="translate(0 0.197)">',
    '<g id="step4" transform="translate(22.735 533.25)">',
    '<g class="node" id="node-4" transform="translate(213.923)">',
    '<circle class="node-main" id="node-main-4" data-name="node-main-4" ',
    'cx="44.679" cy="44.679" r="44.679" transform="translate(0 34.195) ',
    'rotate(-22.5)"/>',
    '<path class="node-arc-l" id="node-arc-4" data-name="node-arc-4" ',
    'd="M-6.320999999999998,44.679a51,51 0 1,0 102,0a51,51 0 1,0 -102,0" ',
    'transform="translate(0 34.195) rotate(-22.5)"/>',
    '</g><text id="Save_results" data-name="Save results" ',
    'transform="translate(0 39.987)" font-size="37" font-family="Helvetica">',
    '<tspan x="0" y="0">S</tspan><tspan y="0" ',
    'letter-spacing="-0.01em">av</tspan><tspan y="0">e </tspan>',
    '<tspan y="0" letter-spacing="-0.01em">r</tspan><tspan y="0">esults</tspan>',
    '</text><line class="text-line-l" id="text-line-4" data-name="text-line-4" ',
    'x2="141.548" stroke-miterlimit="10" stroke-width="1"/>',
    '</g><g id="path3" transform="translate(295.78 474.969)">',
    '<line id="Line_42" data-name="Line 42" y2="53.772" fill="none" ',
    'stroke="#000" stroke-miterlimit="10" stroke-width="1"/>',
    '</g><g id="step3" transform="translate(242.767 359.097)">',
    '<g class="node" id="node-3" data-name="node"><circle class="node-main" ',
    'id="node-main-3" data-name="node-main-3" cx="44.679" ',
    'cy="44.679" r="44.679" transform="translate(8.335 8.303)"/>',
    '<path class="node-arc-r" id="Path_669" data-name="Path 669" ',
    'd="M-6.320999999999998,44.679a51,51 0 1,0 102,0a51,51 0 1,0 -102,0" ',
    'transform="translate(8.335 8.303)"/>',
    '</g><text id="Per_pool_stats" data-name="Per pool stats" ',
    'transform="translate(136.637 33.931)" font-size="37" ',
    'font-family="Helvetica"><tspan x="0" y="0" letter-spacing="-0.03em">',
    'P</tspan><tspan y="0">er pool stats</tspan></text>',
    '<line class="text-line-r" id="text-line-3" data-name="text-line-3" ',
    'x2="141.548" stroke-miterlimit="10" stroke-width="1"/>',
    '</g><g id="path2" transform="translate(295.78 295.416)">',
    '<line id="Line_44" data-name="Line 44" y2="53.772" fill="none" ',
    'stroke="#000" stroke-miterlimit="10" stroke-width="1"/>',
    '</g><g id="step2" transform="translate(0 174.15)">',
    '<g class="node" id="node-2" data-name="node-2" ',
    'transform="translate(236.659)"><circle class="node-main" ',
    'id="node-main-2" data-name="node-main-2" cx="44.679" cy="44.679" ',
    'r="44.679" transform="translate(0 34.195) rotate(-22.5)"/>',
    '<path class="node-arc-l" id="node-arc-2" data-name="node-arc-2" ',
    'd="M-6.320999999999998,44.679a51,51 0 1,0 102,0a51,51 0 1,0 -102,0" ',
    'transform="translate(0 34.195) rotate(-22.5)"/>',
    '</g><text id="Recalibration" transform="translate(0 39.989)" ',
    'font-size="37" font-family="Helvetica"><tspan x="0" ',
    'y="0">Recalibration</tspan></text><line class="text-line-l" ',
    'id="text-line-2" data-name="text-line-2" x2="141.548" ',
    'stroke-miterlimit="10" stroke-width="1"/></g>',
    '<g id="path1" transform="translate(295.78 115.872)">',
    '<line id="Line_46" data-name="Line 46" y2="53.772" fill="none" ',
    'stroke="#000" stroke-miterlimit="10" stroke-width="1"/>',
    '</g><g id="step1" transform="translate(242.767)">',
    '<g class="node clickable" id="node-1" data-name="node">',
    '<circle class="node-main" ',
    'id="node-main-1" data-name="node-main-1" cx="44.679" cy="44.679" ',
    'r="44.679" transform="translate(8.335 8.303)"/>',
    '<path class="node-arc-r" id="node-arc-1" data-name="node-arc-1" ',
    'd="M-6.320999999999998,44.679a51,51 0 1,0 102,0a51,51 0 1,0 -102,0" ',
    'transform="translate(8.335 8.303)"/>',
    '</g><text id="Data_Import" data-name="Data Import" ',
    'transform="translate(146.925 33.931)" font-size="37" ',
    'font-family="Helvetica"><tspan x="0" y="0">Data </tspan>',
    '<tspan y="0" letter-spacing="0.01em">I</tspan><tspan y="0">mpo</tspan>',
    '<tspan y="0" letter-spacing="0.02em">r</tspan><tspan y="0">t</tspan></text>',
    '<line class="text-line-r" id="text-line-1" data-name="text-line-1" ',
    'x2="141.548" fill="none" troke-miterlimit="10" stroke-width="1"/>',
    "</g></g></svg></div>"
  )
}

svg_anim_script <- '$(".node.clickable").hover(
  function() {
    $(this).removeClass("out").addClass("over");
  },
  function() {
    $(this).removeClass("over").addClass("out");
  }
);'

custom_css <- function() {
  system.file("css", "custom_rules.scss", package = "RISingVIS")
}

#' @importFrom bslib bs_add_variables bs_theme bs_add_rules
#' @importFrom sass sass_file
#' @importFrom magrittr `%>%`
app_theme <- function() {
  bslib::bs_add_variables(
    theme = bslib::bs_theme(version = 5, bootswatch = "minty"),
    "white" = "#ffffff",
    "light" = "#e1f2e9",
    "dark" = "#080942",
    "primary" = "#ffc812",
    "secondary" = "#d90889",
    "info" = "#609fe6",
    "accent1" = "#78cdd7",
    "accent2" = "#a273ef",
    "accent3" = "#a8a1df",
    "success" = "#198754",
    "warning" = "#ffc107",
    "danger" = "#dc3545",
    "alert-bg-scale" = "-80%",
    "alert-border-scale" = "-70%",
    "alert-color-scale" = "40%"
  ) %>%
    bslib::bs_add_rules(sass::sass_file(custom_css()))
}
